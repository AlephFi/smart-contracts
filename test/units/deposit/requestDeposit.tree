RequestDeposit_Unit_Test
├── when class id is invalid
│   └── it should revert with InvalidShareClass
└── when class id is valid
    ├── given deposit request flow is paused
    │   └── it should revert with FlowIsCurrentlyPaused
    └── given deposit request flow is unpaused
        ├── when amount requested to deposit is 0
        │   └── it should revert with InsufficientDeposit
        └── when amount requested to deposit is greater than 0
            ├── when min deposit amount is set and amount requested to deposit is less than min deposit amount
            │   └── it should revert with DepositLessThanMinDepositAmount
            └── when min deposit amount is set and amount requested to deposit is greater than or equal to min deposit amount OR min deposit amount is not set
                ├── when max deposit cap is set and amount requested to deposit makes total assets greater than max deposit cap
                │   └── it should revert with DepositExceedsMaxDepositCap
                └── when max deposit cap is set and amount requested to deposit does not make total assets greater than max deposit cap OR max deposit cap is not set
                    ├── when  auth signature is expired
                    │   └── it should revert with AuthSignatureExpired
                    ├── when  auth signature is invalid
                    │   └── it should revert with InvalidAuthSignature
                    └── when  auth signature is not expired and is valid
                        ├── when last deposit batch id is greater than or equal to current batch id
                        │   └── it should revert with OnlyOneRequestPerBatchAllowedForDeposit
                        └── when last deposit batch id is less than current batch id
                            ├── given vault has insufficient allowance to transfer
                            │   └── it should revert with ERC20InsufficientAllowance
                            └── given vault has sufficient allowance to transfer
                                ├── given user has insufficient balance to transfer
                                │   └── it should revert with ERC20InsufficientBalance
                                └── given user has sufficient balance to transfer
                                    └── it should update lastDepositBatchId, batches and emit DepositRequest